---
title: 'TEST POST 1 (Title)'
author: 'Ben Chavez'
summary: 'TEST POST 1 (Summary)'
publishedAt: 'Thursday, Aug 3, 2023'
# image: '/images/backend/og.png'
---


## Designing a Shared State

 Untitled-1

Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum deleniti alias aliquid unde veritatis modi obcaecati nobis veniam eligendi molestias eos officiis distinctio dolorum, quae illo omnis magni commodi. Unde sapiente fugiat, labore laudantium necessitatibus nihil harum doloremque vitae, libero sequi illo pariatur ea mollitia iure beatae alias velit a suscipit autem commodi iste. Quisquam adipisci laborum minima deleniti, soluta eos iure quo fugit itaque recusandae esse excepturi inventore ducimus, dolorum aspernatur repudiandae nisi neque autem voluptas cupiditate dolor id sint. Quia dolorem minus doloribus, ut corrupti tenetur quae impedit obcaecati unde ipsam eaque eveniet, esse enim perspiciatis explicabo? Quis animi magni, perferendis saepe sunt aspernatur perspiciatis modi natus consequuntur amet provident id vitae odit ad totam accusantium aut necessitatibus harum officiis laudantium quo, nostrum eveniet? Pariatur ea minima quasi nostrum quos. Eaque culpa fuga, maxime excepturi voluptatem magnam

```ts title="background.ts"
import { State, updateState } from './state';

export const sharedState: State = {
  // Initialize your shared state here
};

chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {
  if (message.type === 'UPDATE_STATE') {
    updateState(sharedState, message.payload);
    // Notify all tabs of the state change
    chrome.tabs.query({}, (tabs) => {
      tabs.forEach((tab) => {
        chrome.tabs.sendMessage(tab.id!, {
          type: 'STATE_UPDATED',
          payload: sharedState,
        });
      });
    });
  }
});
```

veniam, labore quos provident exercitationem modi voluptatum, unde id libero inventore ipsum nam ex vel! Cum, qui ullam. Sit doloremque odit deleniti accusantium excepturi rerum vitae, iusto reprehenderit animi ut amet quia quaerat eius aut, facilis, debitis labore tempore odio adipisci eveniet dolorum laboriosam. Mollitia, eligendi laboriosam. Odio quos sint soluta nulla corporis aliquam doloremque nam eaque eligendi repellendus omnis, vero modi animi quae tempora, fugit ex eius! Praesentium expedita eveniet cupiditate est accusantium nulla, sit, explicabo eius ipsa enim libero omnis quae ut incidunt laborum sapiente consectetur. Unde nisi at temporibus laboriosam atque in
